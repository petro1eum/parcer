# Стратегия обработки таблиц

## 1. Анализ структуры (analyze_headers_and_relationships)
- Анализ заголовков таблицы для определения их семантики
- Определение связей между строками (иерархия, продолжение, независимые)
- Выявление основных колонок:
  * материал/вещество
  * стандарт/ТУ
  * область применения
- Определение колонок параметров:
  * название параметра
  * значение
  * единицы измерения
- Обработка многострочных записей и переносов строк

## 2. Создание шаблона данных (create_json_template)
- Определение структуры для материалов
- Установка формата параметров
- Определение правил валидации:
  * обязательные поля
  * форматы значений
  * правила обработки диапазонов
  * правила обработки единиц измерения

## 3. Поиск семантических групп (find_semantic_groups)
- Группировка материалов по типам:
  * газы
  * катализаторы
  * жидкости
  * цеолиты
  * полупродукты
- Определение иерархических связей
- Выделение подгрупп
- Сохранение контекста группы

## 4. Обработка групп (process_group)
- Обработка каждой группы с учетом её специфики
- Извлечение параметров с пониманием контекста группы
- Обработка специфичных для группы форматов данных
- Сохранение связей между материалами в группе

## 5. Постобработка данных
- Форматирование химических формул:
  * замена кириллицы на латиницу (С -> C, Н -> H)
  * правильные индексы (H2 -> H₂, CO2 -> CO₂)
  * стандартизация сложных формул
- Дедупликация параметров с сохранением порядка
- Стандартизация значений:
  * форматирование диапазонов
  * обработка предельных значений
  * унификация разделителей
- Проверка и дополнение единиц измерения

## 6. Валидация результатов
- Проверка полноты данных
- Выявление пропущенных строк
- Проверка корректности значений
- Генерация предупреждений и ошибок

## 7. Сохранение результатов
- Сохранение в JSON формате
- Создание человекочитаемого текстового отчета
- Сохранение статистики обработки
- Документирование предупреждений и ошибок 